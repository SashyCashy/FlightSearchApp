{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/sashankpindiproli/flightsearchapp/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/sashankpindiproli/flightsearchapp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sashankpindiproli/flightsearchapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sashankpindiproli/flightsearchapp/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  width: calc(84.2%);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  border: 2px solid black;\\n  margin-left: 1vh;\\n  margin-top: 0.5vh;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  height: 94vh;\\n  width: 100vw;\\n  position: relative;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}/**\n * File Description: This component is the body of the website that has left and right pane\n * Author(s): Sashank Pindiproli\n * Date of Creation: 02/02/2020\n */import React,{useState}from'react';import LeftPane from'./LeftPane';import RightPane from'./RightPane';import LoaderIcon from'../../app/assets/spinner';import styled from'styled-components';import{findMultiAirline}from'../../util';var Content=function Content(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),to=_useState2[0],_setTo=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),from=_useState4[0],_setFrom=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),startDate=_useState6[0],setStartDate=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),returnDate=_useState8[0],setReturnDate=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),flightsList=_useState10[0],setFlightsList=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),waitingStatus=_useState12[0],setWaitingStatus=_useState12[1];/** THIS CODE SHOULD MOVE TO SERVER */var fetchFlightList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(from,to){var data,result,directFlights,multipleFlightsPath;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('flightdata.json');case 2:data=_context.sent;_context.next=5;return data.json();case 5:result=_context.sent;directFlights=result.filter(function(item){return item.destination===to&&item.origin===from;});_context.next=9;return findMultiAirline(result,from,to);case 9:multipleFlightsPath=_context.sent;setFlightsList({direct:directFlights,multiple:multipleFlightsPath});setTimeout(function(){setWaitingStatus(false);console.log();},5000);case 12:case\"end\":return _context.stop();}}},_callee);}));return function fetchFlightList(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(StyledContainer,{id:\"app__container\"},/*#__PURE__*/React.createElement(LeftPane,{setFrom:function setFrom(city){return _setFrom(city);},setTo:function setTo(city){return _setTo(city);},to:to,from:from,setFromDate:function setFromDate(date){return setStartDate(date);},startDate:startDate,setToDate:function setToDate(date){return setReturnDate(date);},returnDate:returnDate,setList:function setList(from,to){if(waitingStatus===false){setWaitingStatus(true);}fetchFlightList(from,to);//setFlightsList(filteredList);\n}}),!waitingStatus?/*#__PURE__*/React.createElement(RightPane,{waitingStatus:waitingStatus,to:to,from:from,fromDate:startDate,toDate:returnDate,flightsList:flightsList}):/*#__PURE__*/React.createElement(StyledLoaderContainer,null,/*#__PURE__*/React.createElement(LoaderIcon,{id:\"loader\"})));};var StyledContainer=styled.div(_templateObject());export var StyledLoaderContainer=styled.div(_templateObject2());export default Content;","map":{"version":3,"sources":["/Users/sashankpindiproli/flightsearchapp/src/components/layout/index.js"],"names":["React","useState","LeftPane","RightPane","LoaderIcon","styled","findMultiAirline","Content","to","setTo","from","setFrom","startDate","setStartDate","returnDate","setReturnDate","flightsList","setFlightsList","waitingStatus","setWaitingStatus","fetchFlightList","fetch","data","json","result","directFlights","filter","item","destination","origin","multipleFlightsPath","direct","multiple","setTimeout","console","log","city","date","StyledContainer","div","StyledLoaderContainer"],"mappings":"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","sourcesContent":["/**\n * File Description: This component is the body of the website that has left and right pane\n * Author(s): Sashank Pindiproli\n * Date of Creation: 02/02/2020\n */\n\nimport React, { useState } from 'react';\nimport LeftPane from './LeftPane';\nimport RightPane from './RightPane';\nimport LoaderIcon from '../../app/assets/spinner';\nimport styled from 'styled-components';\nimport { findMultiAirline } from '../../util';\nconst Content = () => {\n  const [to, setTo] = useState();\n  const [from, setFrom] = useState();\n  const [startDate, setStartDate] = useState();\n  const [returnDate, setReturnDate] = useState();\n  const [flightsList, setFlightsList] = useState([]);\n  const [waitingStatus, setWaitingStatus] = useState(false);\n\n  /** THIS CODE SHOULD MOVE TO SERVER */\n  const fetchFlightList = async (from, to) => {\n    let data = await fetch('flightdata.json');\n    let result = await data.json();\n    let directFlights = result.filter(\n      (item) => item.destination === to && item.origin === from\n    );\n    let multipleFlightsPath = await findMultiAirline(result, from, to);\n    setFlightsList({ direct: directFlights, multiple: multipleFlightsPath });\n\n    setTimeout(() => {\n      setWaitingStatus(false);\n      console.log();\n    }, 5000);\n  };\n\n  return (\n    <StyledContainer id=\"app__container\">\n      <LeftPane\n        setFrom={(city) => setFrom(city)}\n        setTo={(city) => setTo(city)}\n        to={to}\n        from={from}\n        setFromDate={(date) => setStartDate(date)}\n        startDate={startDate}\n        setToDate={(date) => setReturnDate(date)}\n        returnDate={returnDate}\n        setList={(from, to) => {\n          if (waitingStatus === false) {\n            setWaitingStatus(true);\n          }\n          fetchFlightList(from, to);\n          //setFlightsList(filteredList);\n        }}\n      />\n      {!waitingStatus ? (\n        <RightPane\n          waitingStatus={waitingStatus}\n          to={to}\n          from={from}\n          fromDate={startDate}\n          toDate={returnDate}\n          flightsList={flightsList}\n        />\n      ) : (\n        <StyledLoaderContainer>\n          <LoaderIcon id=\"loader\" />\n        </StyledLoaderContainer>\n      )}\n    </StyledContainer>\n  );\n};\n\nconst StyledContainer = styled.div`\n  display: flex;\n  height: 94vh;\n  width: 100vw;\n  position: relative;\n`;\nexport const StyledLoaderContainer = styled.div`\n  width: calc(84.2%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid black;\n  margin-left: 1vh;\n  margin-top: 0.5vh;\n`;\nexport default Content;\n"]},"metadata":{},"sourceType":"module"}